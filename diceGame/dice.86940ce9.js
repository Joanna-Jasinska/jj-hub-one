!function(){var e=[{type:"dice",max:"4",min:"1",name:"k4",id:"dicek4"},{type:"dice",max:"6",min:"1",name:"k6",id:"dicek6"},{type:"dice",max:"8",min:"1",name:"k8",id:"dicek8"},{type:"dice",max:"10",min:"1",name:"k10",id:"dicek10"},{type:"dice",max:"12",min:"1",name:"k12",id:"dicek12"},{type:"dice",max:"20",min:"1",name:"k20",id:"dicek20"},{type:"dice",name:"Random Dice",id:"dicerandom"}],t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"------------------------------------------------";console.log(e)},n={getRandomHexColor:function(){return"#".concat(Math.floor(16777215*Math.random()).toString(16).padStart(6,0))},getRandom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.floor(Math.random()*(e+1-t)+t)},getRandomDiceMax:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=4,i=20,c=[4,6,8,10,12,20];i=c.indexOf(e)+1,n=c.indexOf(t)+1;var a=Math.floor(Math.random()*(i+1-n)+n-1);return c[a]},getDiceBackgroundColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i="#ffcc99",c="#ffffbb",a="#cfff9f",r="#ff66ff",o="#00ffff",d="#00ff00";return 20==e?o:e==n?i:e==t?d:e<=Math.floor((t-n)/5)+n?i:e>14?r:e>9?a:c},getDiceBackgroundColorName:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i="--dice-bg-color-";return 20==e?i+"mythic":e==n?i+"bad":e==t?i+"perfect":e<=Math.floor((t-n)/5)+n?i+"bad":e>14?i+"epic":e>9?i+"uncommon":i+"medium"}},i={dices:[{id:"dicek20"},{id:"dicek6"},{id:"dicek4"},{id:"dicerandom"},{id:"dicerandom"},{}],items:[{id:"use"},{id:"reroll"},{}]},c={refreshDice:function(e){e.classList.contains("inactive")&&e.classList.remove("inactive"),this.deselectDice(e)},rollDice:function(e){var t=e.querySelector(".dice__rolled"),i=e.querySelector(".dice__max"),c=parseInt(i.innerText),a=n.getRandom(c);t.innerText="".concat(a),e.setAttribute("bgcolor","".concat(n.getDiceBackgroundColorName(a,c))),i.innerText="".concat(c)},selectDice:function(e){e.classList.contains("dice")&&!e.classList.contains("selected")?e.classList.add("selected"):this.deselectDice(e)},deactivateDice:function(e){e.classList.contains("dice")&&!e.classList.contains("inactive")&&e.classList.add("inactive")},deselectDice:function(e){e.classList.contains("selected")&&e.classList.remove("selected")}},a={checkActivation:function(e){return!1},refreshItem:function(e){e.classList.contains("inactive")&&e.classList.remove("inactive"),this.deselectItem(e)},activateItem:function(e){e.classList.contains("item")&&!e.classList.contains("selected")?(e.classList.add("selected"),this.checkActivation(e)&&r.clearSelections()):this.deselectItem(e)},deselectItem:function(e){e.classList.contains("selected")&&e.classList.remove("selected")},deactivateItem:function(e){e.classList.contains("item")&&!e.classList.contains("inactive")&&e.classList.add("inactive")}},r={clearDiceBag:function(){var e=document.querySelector(".diceBag");t("clearDiceBag()"),e.innerText="",this.generateButtons()},clearItemBag:function(){var e=document.querySelector(".itemBag");t("clearItemBag()"),e.innerText=""},clearSelections:function(){var e=document.querySelectorAll(".selected"),t=!0,n=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(t=(c=a.next()).done);t=!0)s=c.value,s.classList.remove("selected")}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}},generateButtons:function(){var e=document.querySelector(".diceBag");t("generateButtons()"),e.prepend(document.createElement("div"));var n=e.querySelector("div");n.classList.add("button-new-game","button"),n.innerText="New\nGame",n.onclick=function(e){e.preventDefault(),m.initiateNewGame(i)},e.prepend(document.createElement("div"));var r=e.querySelector("div");r.classList.add("button-end-turn","button"),r.innerText="End\nTurn",r.onclick=function(e){e.preventDefault();for(var t=document.querySelectorAll(".dice"),n=0;n<t.length;n++)c.refreshDice(t[n]),c.rollDice(t[n]);for(var i=document.querySelectorAll(".item"),r=0;r<i.length;r++)a.refreshItem(i[r])}}},o={fetchDice:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dicerandom",n=!0,i=!1,c=void 0;try{for(var a,r=e[Symbol.iterator]();!(n=(a=r.next()).done);n=!0){var o=a.value;if(o.id==t)return o}}catch(e){i=!0,c=e}finally{try{n||null==r.return||r.return()}finally{if(i)throw c}}},generateDices:function(e){t("generateDices(".concat(e,")"));var i=document.querySelector(".diceBag"),a=!0,r=!1,o=void 0;try{for(var d,l=e[Symbol.iterator]();!(a=(d=l.next()).done);a=!0){var s=d.value;t("fetching dice, dice: ".concat(s)),t(s),t(s.id),t("fetchDice(di): ".concat(this.fetchDice(s.id)));var m=this.fetchDice(s.id);i.append(document.createElement("div"));var u=document.querySelectorAll(".diceBag > div")[document.querySelectorAll(".diceBag > div").length-1];u.classList.add(m.type?m.type:"dice","button"),u.append(document.createElement("div"));var v=u.querySelector("div");v.classList.add("dice__rolled");var f=parseInt(m.max)?parseInt(m.max):n.getRandomDiceMax(),g=n.getRandom(f);v.innerText="".concat(g),u.setAttribute("bgcolor","".concat(n.getDiceBackgroundColorName(g,f))),u.prepend(document.createElement("div"));var h=u.querySelector("div");h.classList.add("dice__max"),h.innerText="".concat(f),u.onclick=function(e){e.preventDefault(),c.selectDice(e.currentTarget)}}}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}}},d=[{type:"item",name:"Waste\nDice",actions:["use"],reqDice:!0,minDiceAmount:1,maxDiceAmount:1,reqValue:!1,reqExact:!1,perTurnUses:3,id:"use"},{type:"item",name:"Reroll\nDice",actions:["reroll","use"],reqDice:!0,minDiceAmount:1,maxDiceAmount:1,reqValue:!1,reqExact:!1,minValue:0,maxValue:0,exactValue:0,perTurnUses:1,id:"reroll"}],l={fetchItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"use",t=!0,n=!1,i=void 0;try{for(var c,a=d[Symbol.iterator]();!(t=(c=a.next()).done);t=!0)if(itm=c.value,itm.id==e)return itm}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}},generateItems:function(e){t("generateItems(".concat(e,")"));var n=document.querySelector(".itemBag"),i=!0,c=!1,r=void 0;try{for(var o,d=e[Symbol.iterator]();!(i=(o=d.next()).done);i=!0){var l=o.value;t("fetching item, item: ".concat(l)),t(l),t(l.id),t("fetchItem(ii): ".concat(this.fetchItem(l.id)));var s=this.fetchItem(l.id);t(s),n.append(document.createElement("div"));var m=document.querySelectorAll(".itemBag > div")[document.querySelectorAll(".itemBag > div").length-1];m.classList.add(s.type?s.type:"item","button"),m.append(document.createElement("div"));var u=m.querySelector("div");u.classList.add("item__name");var v=s.name?s.name:"no\nitem";u.innerText="".concat(v),m.prepend(document.createElement("div"));var f=m.querySelector("div");f.classList.add("item__uses");var g=parseInt(s.perTurnUses)?parseInt(s.perTurnUses):"0";f.innerText="".concat(g),m.onclick=function(e){e.preventDefault(),a.activateItem(e.currentTarget)}}}catch(e){c=!0,r=e}finally{try{i||null==d.return||d.return()}finally{if(c)throw r}}}},m={initiateNewGame:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:newGame;t("initiateNewGame(newGameState = ".concat(e,")")),r.clearItemBag(),r.clearDiceBag(),o.generateDices(e.dices),l.generateItems(e.items),t()}};t(),t("-----------page loaded----------"),t(),m.initiateNewGame(i)}();
//# sourceMappingURL=dice.86940ce9.js.map
